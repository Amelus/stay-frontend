<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">Registrierung</ion-title>
    <ion-back-button slot="start">
      <ion-icon name="arrow-back-outline"></ion-icon>
    </ion-back-button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-outer">
    <div class="form-inner">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div>
          <ion-item>
            <ion-label position="stacked">E-Mail</ion-label>
            <ion-input class="input" minlength="6" required="true" formControlName="email"></ion-input>
            <ng-container *ngIf="form.get('email').dirty && form.get('email').errors">
              <div class="error">
                <ng-container *ngIf="form.get('email').hasError('required')">
                  E-Mail ist ein Pflichtfeld
                </ng-container>
                <ng-container *ngIf="form.get('email').hasError('minlength')">
                  Die E-Mail muss mindestens 6 Zeichen lang sein
                </ng-container>
              </div>
            </ng-container>
          </ion-item>
        </div>
        <div>
          <ion-item>
            <ion-label position="stacked">Vorname</ion-label>
            <ion-input class="input" autocomplete="true" required="false" formControlName="firstName"></ion-input>
            <ng-container *ngIf="form.get('firstName').dirty && form.get('firstName').errors">
              <div class="error">
                <ng-container *ngIf="form.get('firstName').hasError('charactersOnly')">
                  Der Vorname darf nur aus Buchstaben bestehen
                </ng-container>
              </div>
            </ng-container>
          </ion-item>
        </div>

        <div>
          <ion-item>
            <ion-label position="stacked">Nachname</ion-label>
            <ion-input class="input" autocomplete="true" required="false" formControlName="lastName"></ion-input>
            <ng-container *ngIf="form.get('lastName').dirty && form.get('lastName').errors">
              <div class="error">
                <ng-container *ngIf="form.get('lastName').hasError('charactersOnly')">
                  Der Nachname darf nur aus Buchstaben bestehen
                </ng-container>
              </div>
            </ng-container>
          </ion-item>
        </div>
        <div>
          <ion-item>
            <ion-label position="stacked">Password</ion-label>
            <ion-input class="input" minlength="8" required="true" type="password" formControlName="password">
            </ion-input>
            <ng-container *ngIf="form.get('password').dirty && form.get('password').errors">
              <div class="error">
                <ng-container *ngIf="form.get('password').hasError('required')">
                  Passwort ist ein Pflichtfeld
                </ng-container>
                <ng-container *ngIf="form.get('password').hasError('minlength')">
                  Das Passwort muss mindestens 8 Zeichen lang sein
                </ng-container>
              </div>
            </ng-container>
          </ion-item>
        </div>
        <div>
          <ion-item>
            <ion-label position="stacked">Password wiederholen</ion-label>
            <ion-input class="input" minlength="8" required="true" type="password" formControlName="passwordRepeat">
            </ion-input>
            <ng-container *ngIf="form.get('passwordRepeat').dirty && form.get('passwordRepeat').errors">
              <div class="error">
                <ng-container *ngIf="form.get('passwordRepeat').hasError('required')">
                  Passwort ist ein Pflichtfeld
                </ng-container>
                <ng-container *ngIf="form.get('passwordRepeat').hasError('noMatch')">
                  Die Passwörter stimmen nicht überein
                </ng-container>
              </div>
            </ng-container>
          </ion-item>
        </div>
        <div class="main-button">
            <ion-button class="ios ion-align-items-center log-button" expand="block" type="submit">
              Registrieren
            </ion-button>
        </div>
        <div class="main-button">
          <ion-button class="ios ion-align-items-center log-button" expand="block" fill="clear" [routerLink]="['/login']">
            Einloggen
          </ion-button>
        </div>
      </form>
    </div>
  </div>
</ion-content>
